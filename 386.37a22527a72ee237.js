"use strict";(self.webpackChunknew_ngrx_24=self.webpackChunknew_ngrx_24||[]).push([[386],{2386:(S,a,l)=>{l.r(a),l.d(a,{PostModule:()=>N});var r=l(4221);const m=(0,r.ZF)("post"),Z=(0,r.P1)(m,e=>e.posts),_=(0,r.P1)(m,(e,n)=>e.posts.find(o=>o.id==n.id));var t=l(5879),u=l(6814),p=l(2137);const A=function(e){return["update",e]},P=function(e){return["delete",e]};function v(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",7),t._uU(9,"Update "),t.qZA()(),t.TgZ(10,"td")(11,"button",8),t._uU(12,"Delete "),t.qZA()()()),2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.description),t.xp6(2),t.Q6J("routerLink",t.VKq(5,A,o.id)),t.xp6(3),t.Q6J("routerLink",t.VKq(7,P,o.id))}}const T=function(){return["/post/add"]};let q=(()=>{class e{constructor(o){this.store=o}ngOnInit(){this.allPosts$=this.store.select(Z)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(r.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-list"]],decls:23,vars:5,consts:[[1,"container","px-4","text-center"],[1,"btn","btn-primary",3,"routerLink"],[1,"row","gx-5"],[1,"col"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"routerLink"],[1,"btn","btn-danger",3,"routerLink"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2,"Add Post"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),t._uU(9,"ID"),t.qZA(),t.TgZ(10,"th",5),t._uU(11,"Title"),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"th",5),t._uU(15,"Update"),t.qZA(),t.TgZ(16,"th",5),t._uU(17,"Delete"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,v,13,9,"tr",6),t.ALo(20,"async"),t.qZA()()(),t.TgZ(21,"div",3),t._UZ(22,"router-outlet"),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("routerLink",t.DdM(4,T)),t.xp6(18),t.Q6J("ngForOf",t.lcZ(20,2,s.allPosts$)))},dependencies:[u.sg,p.lC,p.rH,u.Ov]})}return e})();var d=l(95);const f=(0,r.PH)("PostAction",(0,r.Ky)()),g=(0,r.PH)("updatePostAction",(0,r.Ky)()),h=(0,r.PH)("deletePostAction",(0,r.Ky)());function U(e,n){1&e&&(t.TgZ(0,"div"),t._uU(1," UserName is required "),t.qZA())}function b(e,n){1&e&&(t.TgZ(0,"div"),t._uU(1," Provide minimum length as 6 character "),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,U,2,0,"div",4),t.YNc(2,b,2,0,"div",4),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.title||null==o.title.errors?null:o.title.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.title||null==o.title.errors?null:o.title.errors.minlength)}}function I(e,n){1&e&&(t.TgZ(0,"div"),t._uU(1," UserName is required "),t.qZA())}function y(e,n){1&e&&(t.TgZ(0,"div"),t._uU(1," Provide minimum length as 6 character "),t.qZA())}function C(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,I,2,0,"div",4),t.YNc(2,y,2,0,"div",4),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.description||null==o.description.errors?null:o.description.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.description||null==o.description.errors?null:o.description.errors.minlength)}}let c=(()=>{class e{constructor(o,i,s){this.store=o,this.route=i,this.router=s,this.isEditMode=!1}get title(){return this.postForm.get("title")}get description(){return this.postForm.get("description")}ngOnInit(){this.postForm=new d.cw({title:new d.NI("",[d.kI.required,d.kI.minLength(6)]),description:new d.NI("",[d.kI.required,d.kI.minLength(10)])}),this.route.params.subscribe(o=>{o.id?(this.isEditMode=!0,this.postId=o.id,this.store.select(_,{id:o.id}).subscribe(i=>{console.log(i),this.postForm.setValue({title:i?.title,description:i?.description})})):o["del-id"]&&(confirm("Do You Really Want to Delete the Record ... ?")&&this.store.dispatch(h({id:o["del-id"]})),this.router.navigate(["post"]))})}onPostSubmit(o){console.log(o),this.store.dispatch(this.isEditMode?g({post:{...o.value,id:this.postId}}):f({post:o.value})),this.router.navigate(["post"])}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(r.yh),t.Y36(p.gz),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-post"]],decls:16,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputtitle",1,"form-label"],["formControlName","title","placeholder","Enter Title","type","text","id","exampleInputtitle",1,"form-control"],[4,"ngIf"],["for","exampleInputDescription",1,"form-label"],["formControlName","description","placeholder","EnterDescription","type","text","id","exampleInputDescription",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,s){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"form",0),t.NdJ("ngSubmit",function(){return s.onPostSubmit(s.postForm)}),t.TgZ(4,"div",1)(5,"label",2),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",3),t.YNc(8,x,3,2,"div",4),t.qZA(),t.TgZ(9,"div",1)(10,"label",5),t._uU(11,"Description"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,C,3,2,"div",4),t.qZA(),t.TgZ(14,"button",7),t._uU(15),t.qZA()()),2&i&&(t.xp6(1),t.Oqu(s.isEditMode?"Update Post":"Add Post"),t.xp6(2),t.Q6J("formGroup",s.postForm),t.xp6(5),t.Q6J("ngIf",(null==s.title?null:s.title.touched)&&(null==s.title?null:s.title.invalid)),t.xp6(5),t.Q6J("ngIf",(null==s.description?null:s.description.touched)&&(null==s.description?null:s.description.invalid)),t.xp6(1),t.Q6J("disabled",s.postForm.invalid),t.xp6(1),t.Oqu(s.isEditMode?"Update Post":"Add Post"))},dependencies:[u.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u]})}return e})();const F=(0,r.Lq)({posts:[{id:1,title:"Sample Post 1",description:"Description for post_1"},{id:2,title:"Sample Post 2",description:"Description for post_2"},{id:3,title:"Sample Post 3",description:"Description for post_3"},{id:4,title:"Sample Post 4",description:"Description for post_4"},{id:5,title:"Sample Post 5",description:"Description for post_5"},{id:6,title:"Sample Post 6",description:"Description for post_6"}]},(0,r.on)(f,(e,n)=>{let o={...n.post};return o.id=e.posts.length+1,{...e,posts:[...e.posts,o]}}),(0,r.on)(g,(e,n)=>{let o=e.posts.map(i=>i.id==n.post.id?n.post:i);return{...e,posts:o}}),(0,r.on)(h,(e,n)=>{let o=e.posts.filter(i=>i.id!=n.id);return{...e,posts:o}}));function J(e,n){return F(e,n)}const L=[{path:"",component:q,children:[{path:"add",component:c},{path:"update/:id",component:c},{path:"delete/:del-id",component:c}]}];let N=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[u.ez,d.u5,d.UX,p.Bz.forChild(L),r.Aw.forFeature("post",J)]})}return e})()}}]);